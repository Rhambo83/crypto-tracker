
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crypto Tracker App</title>
  <style>
    body { font-family: sans-serif; background: #121212; color: #fff; padding: 2rem; }
    table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    th, td { border: 1px solid #444; padding: .5rem; text-align: left; }
    th { background: #1f1f1f; }
    h2 { margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>Crypto Tracker App</h1>
  <p>Live Binance USDT-based prices for your trading coins:</p>
  <div id="prices">Loading...</div>

  <script>
    const coins = [
      'AAVE', 'ADA', 'ATOM', 'AVAX', 'BNB',
      'BTC', 'DOGE', 'DOT', 'ETH', 'LINK',
      'LTC', 'NEAR', 'SOL', 'UNI', 'XRP'
    ];

    async function fetchBinancePrices() {
      try {
        const url = 'https://api.binance.com/api/v3/ticker/24hr';
        const res = await fetch(url);
        const data = await res.json();

        const relevant = data.filter(item =>
          coins.includes(item.symbol.replace('USDT', '')) && item.symbol.endsWith('USDT')
        );

        let html = '<table><tr><th>Coin</th><th>Price Current (USDT)</th><th>Price 24h Past</th><th>24h Change %</th><th>1h Change %</th><th>Qty Current / Max</th></tr>';

        for (const coin of coins) {
          const ticker = relevant.find(item => item.symbol === coin + 'USDT');
          if (!ticker) continue;
          const price = parseFloat(ticker.lastPrice);
          const changePercent = parseFloat(ticker.priceChangePercent);
          const pastPrice = price / (1 + (changePercent / 100));
          const hourlyChange = parseFloat(ticker.priceChangePercent) / 24;
          const supply = parseFloat(ticker.volume);
          const maxSupply = 0;
          html += `<tr>
            <td>${coin}</td>
            <td>$${price.toLocaleString(undefined,{minimumFractionDigits:3, maximumFractionDigits:3})}</td>
            <td>$${pastPrice.toLocaleString(undefined,{minimumFractionDigits:3, maximumFractionDigits:3})}</td>
            <td style="color:${changePercent >= 0 ? 'lightgreen' : 'salmon'}">${changePercent.toFixed(2)}%</td>
            <td style="color:${hourlyChange >= 0 ? 'lightgreen' : 'salmon'}">${hourlyChange.toFixed(2)}%</td>
            <td>${Math.round(supply).toLocaleString()} / ${maxSupply === 0 ? 'Unlimited' : maxSupply.toLocaleString()}</td>
          </tr>`;
        }

        html += '</table>';
        document.getElementById('prices').innerHTML = html;
      } catch (e) {
        document.getElementById('prices').textContent = 'Error loading data';
        console.error(e);
      }
    }

    fetchBinancePrices();
    setInterval(fetchBinancePrices, 60000);
  </script>
</body>
</html>
